{% extends "templates/_sidebar.html" %}

{% block bodyContent %}

<div id="documentReversion" v-cloak class="w-full max-w-4xl bg-white mx-auto p-8 my-6.5">
	<div class="flex flex-row items-center">
		<a href="/acc/document" class="no-underline">
			<svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
			</svg>
		</a>
		<span class="font-bold text-3xl text-gray-700 ml-6.5">Re-version Document</span>
	</div>
	<div class="flex flex-col px-12 pt-10 space-y-6.5">
		<div class="flex flex-row space-x-12.5">
			<div class="w-1/2">
				<label class="block text-gray-700">Title</label>
				<input
					v-model="title"
					:class="isTitleVal ? 'border-red-500' : ''"
					class="mt-2.5 appearance-none text-sm block w-full bg-grey-lighter text-gray-700 border border-gray-200 hover:border-gray-700 focus:border-gray-700 focus:outline-none py-3 px-4"
					type="text"
					placeholder="title"
				>  
			</div>
			<div class="w-1/2">
				<label class="block text-gray-700" >File Name</label>
				<input
					v-model="filename"
					:class="isFilenameVal ? 'border-red-500' : ''"
					class="mt-2.5 appearance-none text-sm block w-full bg-grey-lighter text-gray-700 border border-gray-200 hover:border-gray-700 focus:border-gray-700 focus:outline-none py-3 px-4"
					type="text"
					placeholder="filename"
				>  
			</div>
		</div>
		<div class="flex flex-row space-x-12.5">
			<div class="w-1/2">
				<label class="block text-gray-700">Category</label>
				<div class="relative">
					<select v-model="category" class="block mt-2.5 appearance-none text-sm w-full bg-white text-gray-700 border border-gray-200 hover:border-gray-700 focus:border-gray-700 focus:outline-none py-3 px-4 pr-8">
						<option 
							v-for="cat in catOption"
							:key="cat.id"
							v-text="cat.value"
							:value="cat.id"
						></option>
					</select>
					<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
						</svg>
					</div>
				</div>
			</div>
			<div class="w-1/2">
				<label class="block text-gray-700">Department</label>
				<div class="relative">
					<select v-model="department" class="block mt-2.5 appearance-none text-sm w-full bg-white text-gray-700 border border-gray-200 hover:border-gray-700 focus:border-gray-700 focus:outline-none py-3 px-4 pr-8">
						<option 
							v-for="de in deOption"
							:key="de.id"
							v-text="de.value"
							:value="de.id"
						></option>
					</select>
					<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
						</svg>
					</div>
				</div>
			</div>
		</div>
		<div class="flex flex-row space-x-12.5">
			<div class="w-1/2">
				<label class="block text-gray-700">File</label>
				<input
					@change="onFileHandle"
					ref="inputPdf"
					:class="isFileVal ? 'border-red-500' : ''"
					class="mt-2.5 appearance-none text-sm block w-full bg-grey-lighter text-gray-700 border border-gray-200 hover:border-gray-700 focus:border-gray-700 focus:outline-none py-3 px-4"
					type="file"
					accept="application/pdf,application/vnd.ms-excel"
				>  
			</div>
			<div class="w-1/2">
				<label class="block text-gray-700">Version</label>
				<div class="mt-2.5 w-full h-10 flex flex-row space-x-5">
					<div class="w-1/3 h-full flex flex-row">
						<button @click="onDecrease('major')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">−</span>
						</button>
						<input v-model="vMajor" type="number" class="focus:outline-none text-center w-full bg-gray-300 font-semibold text-md flex items-center text-gray-700" readonly></input>
						<button @click="onIncrease('major')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">+</span>
						</button>
					</div>
					<div class="w-1/3 h-full flex flex-row">
						<button @click="onDecrease('minor')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">−</span>
						</button>
						<input v-model="vMinor" type="number" class="focus:outline-none text-center w-full bg-gray-300 font-semibold text-md flex items-center text-gray-700" readonly></input>
						<button @click="onIncrease('minor')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">+</span>
						</button>
					</div>
					<div class="w-1/3 h-full flex flex-row">
						<button @click="onDecrease('patch')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">−</span>
						</button>
						<input v-model="vPatch" type="number" class="focus:outline-none text-center w-full bg-gray-300 font-semibold text-md flex items-center text-gray-700" readonly></input>
						<button @click="onIncrease('patch')" class="bg-gray-300 text-gray-600 hover:text-gray-700 hover:bg-gray-400 h-full w-full focus:outline-none">
							<span class="m-auto text-2xl font-thin">+</span>
						</button>
					</div>
				</div>
			</div>
		</div>
		<div class="w-full flex justify-end space-x-5">
			<button class="w-24 h-10 text-sm bg-white text-gray-700 border border-gray-700 hover:text-white hover:bg-gray-700 focus:outline-none">
				<a class="px-5 py-2" href="/acc/document">Cancel</a>
			</button>
			<button @click="onSubmit" class="w-24 h-10 px-5 py-2 text-sm uppercase text-white bg-gray-700 focus:outline-none">
				Save
			</button>
		</div>
	</div>
</div>

{% endblock %}